Производительность кэша выражается в виде коэффициента попадания запросов. Коэффициент попадания — доля запросов, ответ на которые содержится в кэше. В конечном итоге коэффициент попадания характеризует общую максимальную нагрузку на распределенную систему и влияет на производительность и мощность системы в целом.

Реплицированный кэш - хранит одни и те же данные, подход избыточности. Шардированный кэш - хранит данные для определенных сервисов/по ключам.

Для определения какой из серверов кэширования использовать задействуют шардирующие хэш-функции. Т.е. когда запрос приходит на балансировщик, то хэш-функция определяет на какой сервер отправлять запрос. Использовать стандартные функции не всегда возможно, так как значимыми данные для хеширования могут быть совершенно разные (ключом может быть что угодно - заголовки запроса, url, ip и т.д.).

Свойства:
Детерминированность — одинаковые цепочки байтов на входе должны порождать одинаковый результат на выходе.
Равномерность — значения хеш-функции должны иметь равномерное распределение.

### Инвалидация кэша
Чтобы поддерживать консистентность кэша, его надо инвалидировать и перезаписывать. Стратегии:
 - Запись в базу через кэш. Сначала запись происходит в кэш, а потом в базу, соответственно запросы на запись немного дольше проходят.
 - В обход кэша и запись в кэш во время чтения этих данных. Соответственно меньше храним в кэше, но первый запрос долгий - нужно идти в базу. Но все равно надо не забывать чистить кэш во время записи.
 - Запись только в кэш. Записываем в кэш, а потом в бэкграунде булк инсерт в базу. Прикольно, конечно, но можно потерять недавние данные.

### Стратегии инвалидации
- FIFO - удаляем старые данные.
- LIFO - удаляем новые данные (чо за бред?).
- LRU (least recently used) - удаляем данные, которые не используются дольше всего.
- MRU - удаляем данные, которые используются больше всего (?).
- LRU (least frequently used) - удаляем данные, которые используются меньше всего (количество обращений).
- RR (random replacement) - удаляем  случайные данные.