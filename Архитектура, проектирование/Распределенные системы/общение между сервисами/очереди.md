Очередь - структура данных, в классическом FIFO.

### Подходы
#### Подход Put/Take: 1 → 1
Задачу в очередь кладет один продюссер, и забирает её только один консьюмер.

#### Подход Publish/Subscribe: 1 → * (Pub/Sub)
Создаются топики и в эти топики пишет сколько угодно продюссеров. На каждый из топиков может подписать сколько угодно консьюмеров.

#### Подход Request/Response: 1 ⇆ 1
Похоже на запрос - ответ в классическом его понимании. Продюссер отправляет запрос, консьюмер отправляет ответ.

### Протоколы
Протоколы - AMQP (Advanced Message Queueing Protocol), MQTT (для оборудования), STOMP, NATS, ZeroMQ и тд.

Облачные решения базируются на SQS (Simple Queue Service). Это и Amazon SQS, Mail.ru Cloud Queues, Yandex MQ, CloudAMQP...

Есть специализированные брокеры: RabbitMQ, Apache Kafka, ActiveMQ, Tarantool Queue, NATS, NSQ.

С помощью СУБД — например, PgQueue, Tarantool, Redis — можно приготовить очередь через кастомные решения.

Есть еще класс очередей, который часто называют сокетами на стероидах. Первым был ZeroMQ, позже появился NATS, который вырос в полноценный брокер. Они ничего не хранят, а просто дают некоторый интерфейс взаимодействия: с точки зрения одного узла он может публиковать сообщение, с точки зрения другого узла — подписываться на сообщение. По сути это небольшая надстройка над сокетом.

### Обзор платформ
#### Kafka
Большой и сложный инструмент. Реплицированный, шардированный лог сообщений для стриминга. Работает по системе pub-sub. Сообщения сохраняются на диск и записываются в один лог. К одному такому логу может быть подключено ограниченное количество консьюмеров. Соблюдается строгая очередь FIFO сообщений в логе. Лог менять не получится. После обработки сообщения, сообщение не удаляется.

Чаще всего используют для анализа данных, логирования, метрики, аудита, производительного процессинга потоковых данных и репликации данных.

Главный минус - сложность в создании сложных роутингов сообщений и отложенных процессов.

#### RabbitMQ
Прост в настройке, но не прост в отказоустойчивой настройке. Нет ограничений на количество консьюмеров, можно делать сложные роутинги. Есть несколько вариантов хранения: память, диск, репликация. Можно даже использовать кворум для сохранения сообщений (кворумные очереди).

#### Managed Cloud Queue (SQS, MQ)
Очереди используемые в облачных решения амазона, маил, яндекс и тд. Не самая шустрая и пропускная вещь, как я понял, но это не точно.

#### NATS Messaging
Поддерживает все сценарии использования (pub/sub, put/take, req/res). В первую очередь используют как связь между микросервисами.

#### Tarantool
Быстрый брокер, который можно использовать как со стандартными сценариями так и кастомизировать. Кастомизация очень гибкая, можно прикрутить кучу логики и роутинга.

#### Redis
Редис используется в основном как кеш, но имеет шустрые каналы pub/sub - можно использовать как брокера.

Здесь подробная [статья](https://habr.com/ru/company/oleg-bunin/blog/579354/)
